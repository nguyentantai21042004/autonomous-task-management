environment:
  name: "development"

http_server:
  port: 8080
  mode: "debug"

logger:
  level: "debug"
  mode: "debug"
  encoding: "console"
  color_enabled: true

# Memos Configuration
memos:
  url: "http://your-memos-instance:5230"
  api_version: "v1"
  access_token: "" # Set via env: MEMOS_ACCESS_TOKEN
  external_url: "http://localhost:5230" # URL for user-facing links (localhost for local, or public domain for production)

# Qdrant Configuration
qdrant:
  url: "http://your-qdrant-instance:6333"
  collection_name: "tasks"
  vector_size: 1024 # Voyage voyage-3 uses 1024 dimensions

# Telegram Bot Configuration
telegram:
  bot_token: "" # Set via environment variable
  webhook_url: ""

# Voyage AI Configuration (for embeddings)
voyage:
  api_key: "" # Set via environment variable

# Google Calendar Configuration
google_calendar:
  credentials_path: "" # Set via environment variable
  calendar_id: "primary"

llm:
  # List of LLM providers (ordered by priority)
  providers:
    # Primary provider: DeepSeek
    - name: deepseek
      enabled: true
      priority: 1
      api_key: ${DEEPSEEK_API_KEY} # Environment variable expansion
      base_url: https://api.deepseek.com/v1
      model: deepseek-chat
      timeout: 30s

    # Secondary provider: Google Gemini
    - name: gemini
      enabled: true
      priority: 2
      api_key: ${GEMINI_API_KEY} # Environment variable expansion
      model: gemini-2.5-flash
      timeout: 30s

    # Tertiary provider: Alibaba Qwen
    - name: alibaba
      enabled: true
      priority: 3
      api_key: ${ALIBABA_API_KEY} # Environment variable expansion
      base_url: https://dashscope-intl.aliyuncs.com/compatible-mode/v1
      model: qwen-turbo
      timeout: 30s

  # Fallback configuration
  fallback_enabled: true
  retry_attempts: 3
  retry_delay: 1s
  max_total_timeout: 60s  # Global timeout for entire fallback chain (prevents infinite waiting)

# Phase 4: Git Webhook Configuration
webhook:
  enabled: true
  secret: "" # Set via environment variable WEBHOOK_SECRET
  allowed_ips: "" # Comma separated list of IPs
  rate_limit_per_min: 60
